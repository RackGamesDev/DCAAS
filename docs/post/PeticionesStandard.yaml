type: collection.insomnia.rest/5.0
schema_version: "5.1"
name: Peticiones standard
meta:
  id: wrk_c4bbf3b0d7e544faaf56e4f9009ba1a0
  created: 1770379485661
  modified: 1770412476477
  description: ""
collection:
  - url: http://localhost:8081/api/test
    name: test1
    meta:
      id: req_da186a2872c04424a05b35570d0edef2
      created: 1770387646820
      modified: 1770412476477
      isPrivate: false
      description: ""
      sortKey: -1770387646821
    method: GET
    headers:
      - name: User-Agent
        value: insomnia/11.2.0
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/debug
    name: debug1
    meta:
      id: req_be83708afad34f95b0d2b46912946edf
      created: 1770387961484
      modified: 1770412476475
      isPrivate: false
      description: ""
      sortKey: -1770048714635
    method: GET
    headers:
      - name: User-Agent
        value: insomnia/11.2.0
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/usuario
    name: Crear usuario
    meta:
      id: req_abd8b352e94141008d38eed294776e68
      created: 1770388551513
      modified: 1770424111274
      isPrivate: false
      description: ""
      sortKey: -1770218180728
    method: POST
    body:
      mimeType: application/json
      text: |
        {
        	"nickname": "Usuario-1",
        	"nombre": "usuario 1 hola",
        	"email": "usuario1@yangmail.com",
        	"password": "123456789aA.",
        	"publicante": false
        }
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
    authentication:
      type: bearer
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |-
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
        console.log("Fin " + Date.now());
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/usuario/login
    name: Login
    meta:
      id: req_532849b36d244eb09c2f4f9379ac74fd
      created: 1770388934988
      modified: 1770426596656
      isPrivate: false
      description: ""
      sortKey: -1770133447681.5
    method: POST
    body:
      mimeType: application/json
      text: |
        {
        	"auth": "Usuario-1",
        	"password": "123456789aA."
        }
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
      - name: TokenEX
        value: 2|FMV3kewsDdEcKkaN9whZqcl8ACoqB1CptbQY5Tnha9acad9a
        description: ""
        disabled: false
      - name: Authorization
        value: "`Bearer 1"
        description: ""
        disabled: false
    authentication:
      type: bearer
      disabled: false
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/usuario/ver/019c3506-910c-71ca-be7b-51d26b4cd336
    name: Ver publico usuario
    meta:
      id: req_845317bdaac345df8fc5b8a909f7c80b
      created: 1770389521009
      modified: 1770426680889
      isPrivate: false
      description: ""
      sortKey: -1770175814204.75
    method: GET
    body:
      mimeType: application/json
      text: ""
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
    authentication:
      type: bearer
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |-
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/usuario/yo
    name: Ver mi privado usuario
    meta:
      id: req_a7a9eb5e74c54b74a8d1443f79d1d1cd
      created: 1770390899356
      modified: 1770426423711
      isPrivate: false
      description: ""
      sortKey: -1770091081158.25
    method: GET
    body:
      mimeType: application/json
      text: ""
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
      - name: TokenEX
        value: 2|FMV3kewsDdEcKkaN9whZqcl8ACoqB1CptbQY5Tnha9acad9a
        description: ""
        disabled: true
      - name: Authorization
        value: "`Bearer 1"
        description: ""
        disabled: true
      - name: Accept
        value: application/json
        description: ""
        disabled: false
    authentication:
      type: bearer
      disabled: false
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |-
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/usuario
    name: Editar usuario
    meta:
      id: req_95394991fce143c5860b2d6ae8106279
      created: 1770394037753
      modified: 1770426438237
      isPrivate: false
      description: ""
      sortKey: -1770069897896.625
    method: PATCH
    body:
      mimeType: application/json
      text: |-
        {
        	"nickname": "Usuario-argage",
        	"nombre": "usuariohrerhehefe",
        	"email": "usuari4333o1e@yangmail.com",
        	"password": "123456789aA..",
        	"descripcion": "asldfhasodfhsakjdfhsadf",
        	"url_foto": "http://delivery.io/aaa.png",
        	"oldPassword": "123456789aA."
        }
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
      - name: Authorization
        value: "`Bearer 1"
        description: ""
        disabled: true
      - name: Accept
        value: application/json
        description: ""
        disabled: false
    authentication:
      type: bearer
      disabled: false
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |-
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/usuario
    name: Borrar usuario
    meta:
      id: req_e410eab2b66e412d8d863e89c6c97a8d
      created: 1770399760889
      modified: 1770426569979
      isPrivate: false
      description: ""
      sortKey: -1770059306265.8125
    method: DELETE
    body:
      mimeType: application/json
      text: |-
        {
        	"password": "123456789aA.."
        }
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
      - name: Authorization
        value: "`Bearer 1"
        description: ""
        disabled: true
      - name: Accept
        value: application/json
        description: ""
        disabled: false
    authentication:
      type: bearer
      disabled: false
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |-
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/usuario/cerrarSesion
    name: Cerrar sesion usuario
    meta:
      id: req_93f43c21592849d8b0ea240629a988da
      created: 1770400716220
      modified: 1770426553359
      isPrivate: false
      description: ""
      sortKey: -1770054010450.4062
    method: DELETE
    body:
      mimeType: application/json
      text: ""
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
      - name: Authorization
        value: "`Bearer 1"
        description: ""
        disabled: true
      - name: Accept
        value: application/json
        description: ""
        disabled: false
    authentication:
      type: bearer
      disabled: false
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |-
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/admin/usuario/f2d7b459-ba8e-414c-a8a1-df9aad3448eb/editar
    name: Editar usuario ADMIN
    meta:
      id: req_c05c5cbb95b74247a72f4e85aba2a336
      created: 1770407096573
      modified: 1770426541801
      isPrivate: false
      description: ""
      sortKey: -1770064602081.2188
    method: PATCH
    body:
      mimeType: application/json
      text: |-
        {
        	"nickname": "Usuario-argage",
        	"nombre": "usuariohrerhehefe",
        	"email": "usuari4333o1e@yangmail.com",
        	"password": "123456789aA..",
        	"descripcion": "asldfhasodfhsakjdfhsadf",
        	"url_foto": "http://delivery.io/aaa.png"
        }
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
      - name: Authorization
        value: "`Bearer 1"
        description: ""
        disabled: true
      - name: Accept
        value: application/json
        description: ""
        disabled: false
    authentication:
      type: bearer
      disabled: false
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |-
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/admin/usuario/f2d7b459-ba8e-414c-a8a1-df9aad3448eb/editar
    name: Editar usuario permisos ADMIN
    meta:
      id: req_8db74c64e1014a0d9b00fa6dbbeea402
      created: 1770407146715
      modified: 1770426522336
      isPrivate: false
      description: ""
      sortKey: -1770061954173.5156
    method: PATCH
    body:
      mimeType: application/json
      text: |-
        {
        	"id": "f2d7b459-ba8e-414c-a8a1-df9aad3448eb",
        	"permisos": 2
        }
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
      - name: Authorization
        value: "`Bearer 1"
        description: ""
        disabled: true
      - name: Accept
        value: application/json
        description: ""
        disabled: false
    authentication:
      type: bearer
      disabled: false
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |-
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/admin/usuario/f2d7b459-ba8e-414c-a8a1-df9aad3448eb/borrar
    name: Borrar usuario ADMIN
    meta:
      id: req_ab43f68fff6447bab9f408d4529ba7d1
      created: 1770407204842
      modified: 1770426510607
      isPrivate: false
      description: ""
      sortKey: -1770060630219.664
    method: DELETE
    body:
      mimeType: application/json
      text: ""
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
      - name: Authorization
        value: "`Bearer 1"
        description: ""
        disabled: true
      - name: Accept
        value: application/json
        description: ""
        disabled: false
    authentication:
      type: bearer
      disabled: false
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |-
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/admin/usuario/f2d7b459-ba8e-414c-a8a1-df9aad3448eb/ver
    name: Ver todo usuario ADMIN
    meta:
      id: req_c9d0355f274c42f3a36a969326a42448
      created: 1770407240838
      modified: 1770426496066
      isPrivate: false
      description: ""
      sortKey: -1770059968242.7383
    method: GET
    body:
      mimeType: application/json
      text: ""
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
      - name: Authorization
        value: "`Bearer 1"
        description: ""
        disabled: true
      - name: Accept
        value: application/json
        description: ""
        disabled: false
    authentication:
      type: bearer
      disabled: false
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |-
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
  - url: http://localhost:8081/api/admin/
    name: ADMIN
    meta:
      id: req_29e12273f97f452bb3fa02a1f378337e
      created: 1770407273022
      modified: 1770426652722
      isPrivate: false
      description: ""
      sortKey: -1770059637254.2754
    method: GET
    body:
      mimeType: application/json
      text: ""
    headers:
      - name: Content-Type
        value: application/json
      - name: User-Agent
        value: insomnia/11.2.0
      - name: Authorization
        value: "`Bearer 1"
        description: ""
        disabled: true
      - name: Accept
        value: application/json
        description: ""
        disabled: false
    authentication:
      type: bearer
      disabled: false
      token: "{{ dynamic_token }}"
    scripts:
      preRequest: >
        const token = insomnia.environment.get('AuthorizationToken');


        if (token) {
        	insomnia.collectionVariables.set("dynamic_token", token);
            //insomnia.request.auth.update({type: 'bearer', bearer: [{key: 'token', value: "token"}]}, 'bearer');
        } else {
            console.error("Authorization Token is missing!");
        }
      afterResponse: |-
        const responseBody = insomnia.response.json();
        const token = responseBody?.data?.access_token ?? false;
        if (token) insomnia.environment.set("AuthorizationToken", token);
    settings:
      renderRequestBody: true
      encodeUrl: true
      followRedirects: global
      cookies:
        send: true
        store: true
      rebuildPath: true
cookieJar:
  name: Default Jar
  meta:
    id: jar_6b6bda0b8afea05bdbf76678c8adf595a6dd43b9
    created: 1770379485663
    modified: 1770426760983
environments:
  name: Base Environment
  meta:
    id: env_6b6bda0b8afea05bdbf76678c8adf595a6dd43b9
    created: 1770379485662
    modified: 1770426760989
    isPrivate: false
  data:
    prueba: aaaaa
    AuthorizationToken: 24|rVJrJuDpUr9zvacFRITTcfathaJmZtYB5sfF7z2T93f27923
    AuthorizationToken2: your_new_token_here
    dynamic_token: 24|rVJrJuDpUr9zvacFRITTcfathaJmZtYB5sfF7z2T93f27923
